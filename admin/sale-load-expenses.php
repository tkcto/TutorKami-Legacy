<style type="text/css">    .table-header {        border: 1px solid #000;    }</style><?phprequire_once('classes/config.php.inc');date_default_timezone_set("Asia/Kuala_Lumpur");$conn = new mysqli(HOSTNAME, DB_USER, DB_PASS, DBNAME);if ($conn->connect_error) {    echo "Connection failed : " . str_replace(DB_USER, '********', $conn->connect_error);    exit();}if (isset($_POST['dataGrid'])) : ?>    <?php    $dataGrid = $_POST['dataGrid'];    $sqlSelect = " SELECT * FROM tk_sales_expenses WHERE main_id = '" . $dataGrid['mainID'] . "' AND month = '" . $dataGrid['month'] . "' ORDER BY row_no ASC";    $resultSelect = $conn->query($sqlSelect);    ?>    <?php if ($resultSelect->num_rows > 0) : ?>        <table class="tbl-qa">            <thead>                <tr>                    <th class="table-header">Date</th>                    <th class="table-header">Item</th>                    <th class="table-header">Category</th>                    <th class="table-header">Amount</th>                    <th class="table-header">Note</th>                    <th class="table-header">Action</th>                </tr>            </thead>            <tbody id="table-bodyExpenses">                <?php while ($rowSelect = $resultSelect->fetch_assoc()): ?>                    <tr class="table-row expenses-data" data-expenses-id="<?php echo $rowSelect["id"]; ?>">                        <td id="bodyExpenses<?php echo $rowSelect["id"]; ?>" class="row-data expenses-date" contenteditable="true" onClick="editRow(this,'','table-bodyExpenses');">                            <?php echo $rowSelect["date"]; ?>                        </td>                        <td id="bodyExpenses<?php echo $rowSelect["id"]; ?>" class="row-data expenses-item" contenteditable="true" onClick="editRow(this,'','table-bodyExpenses');">                            <?php echo ($rowSelect['item'] == 'kosong') ? '' : $rowSelect['item'] ?>                        </td>                        <td id="bodyExpenses<?php echo $rowSelect["id"]; ?>" class="row-data expenses-category">                            <select name="item-category" id="item-category">                                <option value="">Please Select</option>                                <option value="pv" <?php echo ($rowSelect['category'] == 'pv')? 'selected': '' ?>>Pv</option>                                <option value="salary_slip" <?php echo ($rowSelect['category'] == 'salary_slip')? 'selected': '' ?>>Salary Slip</option>                                <option value="receipt" <?php echo ($rowSelect['category'] == 'receipt')? 'selected': '' ?>>Receipt</option>                                <option value="others" <?php echo ($rowSelect['category'] == 'others')? 'selected': '' ?>>Others</option>                            </select>                        </td>                        <td id="bodyExpenses<?php echo $rowSelect["id"]; ?>" class="row-data expenses-amount" contenteditable="true" onClick="editRow(this,'','table-bodyExpenses');">                            <?php echo ($rowSelect['amount'] == 'kosong') ? '' : $rowSelect['amount']; ?>                        </td>                        <td id="bodyExpenses<?php echo $rowSelect["id"]; ?>" class="row-data expenses-note" contenteditable="true" onClick="editRow(this,'','table-bodyExpenses');">                            <?php echo ($rowSelect['note'] == 'kosong') ? '' : $rowSelect['note']; ?>                        </td>                        <td id="bodyExpenses<?php echo $rowSelect["id"]; ?>" class="row-data">                            <a class="ajax-action-links" onclick="deleteRecordExpenses(<?php echo $rowSelect["id"]; ?>);">                                <span><b>x</b></span>                            </a>                            <span id="generate-action" class="invisible">                                <a href="#"> Generate</a>                            </span>                        </td>                    </tr>                <?php endwhile; ?>            </tbody>            <tfoot>                <tr>                    <th class="table-header">Total</th>                    <td class="table-header"></td>                    <td class="table-header"></td>                    <td class="table-header">                        <?php                        $sqlSum = " SELECT SUM(amount) as total FROM tk_sales_expenses WHERE main_id = '" . $dataGrid['mainID'] . "' AND month = '" . $dataGrid['month'] . "' ";                        $resultSum = $conn->query($sqlSum);                        if ($resultSum->num_rows > 0) {                            while ($rowSum = $resultSum->fetch_assoc()) {                                echo number_format($rowSum['total'], 2);                            }                        }                        ?>                    </td>                    <td class="table-header"></td>                    <th class="table-header"></th>                </tr>            </tfoot>        </table>    <?php else : ?>        <table class="tbl-qa">            <thead>                <tr>                    <th class="table-header">Date</th>                    <th class="table-header">Item</th>                    <th class="table-header">Category</th>                    <th class="table-header">Amount</th>                    <th class="table-header">Note</th>                    <th class="table-header">Action</th>                </tr>            </thead>            <tbody id="table-bodyExpenses">                <tr class="table-row">                </tr>            </tbody>            <tfoot>                <tr>                    <th class="table-header">Total</th>                    <td class="table-header"></td>                    <td class="table-header">0.00</td>                    <td class="table-header"></td>                    <td class="table-header"></td>                </tr>            </tfoot>        </table>    <?php endif; ?>    <br/>    <button id="add-moreExpenses" onClick="createExpenses();" type="button" class="btn btn-success-ori">        <span class="glyphicon glyphicon-plus"></span> Add More    </button>    <button class="btn btn-info-ori" id="confirm-expenses-data">Confirm</button>    <img id="ajax-spinner" class="invisible" src="../icon/spinner.gif" alt="Loading..." width="60" height="60"><?phpendif;$conn->close();?>